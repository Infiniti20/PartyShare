{
  "version": 3,
  "sources": ["../app/utils.ts"],
  "sourcesContent": ["const crypto = require('crypto');\r\nconst fs = require(\"fs\")\r\n\r\n\r\n\r\nexport default {\r\n\tcomputeHash: function (text: string):string {\r\n\t\tconst hash = crypto.createHash('sha256').update(text).digest('base64');\r\n\t\treturn hash\r\n\t},\r\n\tgenerateUUID: function (pattern?: string):string {\r\n\t\treturn 'xxxxxxxx-xxxx-4xxxx-xxx-x'.replace(/[xy]/g, function (c) {\r\n\t\t\tvar r = Math.random() * 16 | 0,\r\n\t\t\t\tv = c == 'x' ? r : (r & 0x3 | 0x8);\r\n\t\t\treturn v.toString(16);\r\n\t\t});\r\n\t},\r\n\tfilter: function (req: any, file: any, cb: any) {\r\n\t\t// Accept images only\r\n\t\tif (!file.originalname.match(/\\.(jpg|JPG|jpeg|JPEG|png|PNG)$/)) {\r\n\t\t\treq.fileValidationError = 'Only image files are allowed';\r\n\t\t\treturn cb(new Error('Only image files are allowed'), false);\r\n\t\t}\r\n\t\tcb(null, true);\r\n\t},\r\n\tgetExt: function (filename:string):string {\r\n\t\tvar i = filename.lastIndexOf('.');\r\n\t\treturn (i < 0) ? '' : filename.substr(i);\r\n\t},\r\n\treplaceValues: function (str:string, values: any):string {\r\n\t\tvar str = str.replace(/\\[\\w*\\]/g, function (match, val) {\r\n\t\t\treturn values[match.slice(1, -1)] || match;\r\n\t\t});\r\n\t\treturn str\r\n\t},\r\n\tgetFileStream: async function (path: string){\r\n\t\tlet reader = fs.createReadStream(path);\r\n\r\n\t\tlet promise = new Promise(function (resolve, reject) {\r\n\t\t\treader.on('data', (chunk: Buffer) => resolve(chunk.toString()));\r\n\t\t\treader.on('error', reject); \r\n\t\t});\r\n\r\n\t\tlet data = await promise;\r\n\t\treturn data\r\n\t}\r\n\r\n}\r\n"],
  "mappings": "qIAAA,8BAAM,GAAS,QAAQ,UACjB,EAAK,QAAQ,MAIZ,EAAQ,CACd,YAAa,SAAU,EAAqB,CAE3C,MADa,GAAO,WAAW,UAAU,OAAO,GAAM,OAAO,WAG9D,aAAc,SAAU,EAAyB,CAChD,MAAO,4BAA4B,QAAQ,QAAS,SAAU,EAAG,CAChE,GAAI,GAAI,KAAK,SAAW,GAAK,EAC5B,EAAI,GAAK,IAAM,EAAK,EAAI,EAAM,EAC/B,MAAO,GAAE,SAAS,OAGpB,OAAQ,SAAU,EAAU,EAAW,EAAS,CAE/C,GAAI,CAAC,EAAK,aAAa,MAAM,kCAC5B,SAAI,oBAAsB,+BACnB,EAAG,GAAI,OAAM,gCAAiC,IAEtD,EAAG,KAAM,KAEV,OAAQ,SAAU,EAAwB,CACzC,GAAI,GAAI,EAAS,YAAY,KAC7B,MAAQ,GAAI,EAAK,GAAK,EAAS,OAAO,IAEvC,cAAe,SAAU,EAAY,EAAoB,CACxD,GAAI,GAAM,EAAI,QAAQ,WAAY,SAAU,EAAO,EAAK,CACvD,MAAO,GAAO,EAAM,MAAM,EAAG,MAAQ,IAEtC,MAAO,IAER,cAAe,eAAgB,EAAa,CAC3C,GAAI,GAAS,EAAG,iBAAiB,GAQjC,MADW,MALG,IAAI,SAAQ,SAAU,EAAS,EAAQ,CACpD,EAAO,GAAG,OAAQ,AAAC,GAAkB,EAAQ,EAAM,aACnD,EAAO,GAAG,QAAS",
  "names": []
}
