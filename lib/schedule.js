var r=Object.create;var c=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var b=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var u=e=>c(e,"__esModule",{value:!0});var y=(e,t)=>{u(e);for(var n in t)c(e,n,{get:t[n],enumerable:!0})},D=(e,t,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of m(t))!f.call(e,a)&&a!=="default"&&c(e,a,{get:()=>t[a],enumerable:!(n=g(t,a))||n.enumerable});return e},F=e=>D(u(c(e!=null?r(b(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);y(exports,{addAction:()=>x,addEditAction:()=>J,loadJobs:()=>j,scheduleJob:()=>d});var s=F(require("long-timeout")),i={};function x(e,t){return i[e]=t,t}function J(e){return i.edit=e,e}function d(e,t,n){let a=T(n);s.default.setTimeout(()=>{console.log("executed"),e(...t)},a)}function T(e){let t=e.getTime(),n=new Date().getTime();return Math.max(t-n,0)}async function j(e){let t=new Date().getTime(),n=Object.keys(e),a=Object.values(e);for(let l=0;l<a.length;l++){let o=a[l];if(console.log(t,o.date),t>o.date){o.passed==!1&&(i[o.name](...o.args),await i.edit(n[l]));continue}d(i[o.name],o.args,new Date(o.date))}}0&&(module.exports={addAction,addEditAction,loadJobs,scheduleJob});
//# sourceMappingURL=schedule.js.map
