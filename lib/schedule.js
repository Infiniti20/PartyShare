var r=Object.create;var c=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var b=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var s=e=>c(e,"__esModule",{value:!0});var y=(e,t)=>{s(e);for(var o in t)c(e,o,{get:t[o],enumerable:!0})},D=(e,t,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of m(t))!f.call(e,n)&&n!=="default"&&c(e,n,{get:()=>t[n],enumerable:!(o=g(t,n))||o.enumerable});return e},F=e=>D(s(c(e!=null?r(b(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);y(exports,{addAction:()=>x,addEditAction:()=>J,loadJobs:()=>j,scheduleJob:()=>d});var u=F(require("long-timeout")),i={};function x(e,t){return i[e]=t,t}function J(e){return i.edit=e,e}function d(e,t,o){console.log(i);let n=T(o);console.log(n),u.default.setTimeout(()=>{console.log("executed"),e(...t)},n)}function T(e){let t=e.getTime(),o=new Date().getTime();return Math.max(t-o,0)}async function j(e){let t=new Date().getTime(),o=Object.keys(e),n=Object.values(e);for(let l=0;l<n.length;l++){let a=n[l];if(console.log(t,a.date),t>a.date){a.passed==!1&&(i[a.name](...a.args),await i.edit(o[l]));continue}d(i[a.name],a.args,new Date(a.date))}}0&&(module.exports={addAction,addEditAction,loadJobs,scheduleJob});
//# sourceMappingURL=schedule.js.map
